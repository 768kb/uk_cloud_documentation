<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>How to create a virtual machine from scratch </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="How to create a virtual machine from scratch ">
    <meta name="generator" content="docfx 2.59.3.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container-fluid">
            <div class="navbar-margin-left">
              <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                
                <a class="navbar-brand" href="../../index.html">
                  <img id="logo" class="svg" src="../../styles/assets/logo.png" srcset="../../styles/assets/logo@2x.png 2x" width="300" height="49" alt="">
                </a>
              </div>
              <div class="collapse navbar-collapse" id="navbar">
                <form class="navbar-form navbar-right" role="search" id="search">
                  <div class="form-group">
                    <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                  </div>
                </form>
              </div>
            </div>
          </div>
        </nav>
        
        <div class="navbar-borderless subnav navbar navbar-default">
          <div class="navbar-right subnav-margin-right">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/UKCloud/documentation/blob/master/articles/vmware/vmw-how-create-vm-from-scratch.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
          </div>
          <div class="hide-when-search subnav-margin-left" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container-fluid body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="container-fluid">
            <div class="row">
              <div class="col-lg-10">
                <article class="content wrap" id="_content" data-uid="">
                  
<h1 id="how-to-create-a-vm-from-scratch">How to create a VM from scratch</h1>

<h2 id="overview">Overview</h2>
<p>As well as deploying pre-built VMs from a catalog, you can build your own VMs from scratch, as you would do on a physical machine, using an ISO image in place of a physical CD or DVD.</p>
<p>For information about creating a VM from a template, see <a href="vmw-how-create-vm-from-template.html"><em>How to create a VM from a template</em></a>.</p>
<h2 id="creating-an-empty-vm">Creating an empty VM</h2>
<ol>
<li><p>In the VMware Cloud Director <em>Virtual Data Center</em> dashboard, select the VDC that contains the vApp in which you want to create the VM.</p>
</li>
<li><p>In the left navigation panel, under <em>Compute</em>, select <strong>vApps</strong> to view a list of vApps within the VDC.</p>
<p><img src="images/vmw-mnu-vapps-vcd10.3.png" alt="vApps menu option in VMware Cloud Director"></p>
<div class="TIP">
<h5>Tip</h5>
<p>To create a standalone VM, in the left navigation panel, select <strong>Virtual Machines</strong>, then click <strong>New VM</strong>.</p>
</div>
</li>
<li><p>In the card for the vApp in which you want to create the VM, select <strong>Actions</strong> &gt; <strong>Add</strong> &gt; <strong>Add VM</strong>.</p>
<p><img src="images/vmw-vapp-mnu-add-vm-vcd10.3.png" alt="Add VM menu option"></p>
<div class="TIP">
<h5>Tip</h5>
<p>To create a new vApp, see <a href="vmw-how-create-vapp.html"><em>How to create a vApp</em></a>.</p>
</div>
</li>
<li><p>In the <em>Add VMs</em> dialog box, click <strong>Add Virtual Machine</strong>.</p>
<p><img src="images/vmw-vapp-btn-add-vm-vcd10.3.png" alt="Add Virtual Machine button"></p>
</li>
<li><p>In the <em>New VM</em> dialog box, enter a <strong>Name</strong>, <strong>Computer Name</strong> and <strong>Description</strong> for your VM.</p>
<div class="NOTE">
<h5>Note</h5>
<p><strong>Name</strong> is a name to identify the VM, <strong>Computer Name</strong> is the host name of the VM.</p>
<p>The <strong>Computer Name</strong> is copied from the <strong>Name</strong> field but can contain only alphanumeric characters and hyphens so you may need to edit it if your VM <strong>Name</strong> contains spaces or special characters.</p>
</div>
</li>
<li><p>As you're creating the VM from scratch (not from a template), from the <strong>Type</strong> radio buttons, select <strong>New</strong>.</p>
<p><img src="images/vmw-vm-dlg-new-vm-scratch-vcd10.3-type.png" alt="New VM dialog box - Type"></p>
</li>
<li><p>Select the <strong>OS family</strong> to use for your VM, then from the <strong>Operating System</strong> list, select the specific OS that you want to use.</p>
<p><img src="images/vmw-vm-dlg-new-vm-scratch-vcd10.3-os.png" alt="New VM dialog box - Operating System"></p>
</li>
<li><p>In the <em>Compute</em> section, select the compute and memory settings for your VM.</p>
<p>Although you can build a VM to your own specification in terms of the number of vCPUs and amount of memory, you'll be billed based on the closest (next highest) match to a UKCloud pre-defined VM size.</p>
<table>
<thead>
<tr>
<th>Size</th>
<th>vCPU</th>
<th>RAM (GiB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Micro</td>
<td>1</td>
<td>0.5</td>
</tr>
<tr>
<td>Tiny</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>Small</td>
<td>2</td>
<td>4</td>
</tr>
<tr>
<td>Medium</td>
<td>4</td>
<td>8</td>
</tr>
<tr>
<td>Medium High Memory</td>
<td>4</td>
<td>16</td>
</tr>
<tr>
<td>Large</td>
<td>8</td>
<td>16</td>
</tr>
<tr>
<td>Large High Memory</td>
<td>8</td>
<td>32</td>
</tr>
<tr>
<td>Tier 1 Apps Small</td>
<td>8</td>
<td>48</td>
</tr>
<tr>
<td>Tier 1 Apps Medium</td>
<td>8</td>
<td>64</td>
</tr>
<tr>
<td>Tier 1 Apps Large</td>
<td>8</td>
<td>96</td>
</tr>
<tr>
<td>Tier 1 Apps Extra Large</td>
<td>12</td>
<td>128</td>
</tr>
</tbody>
</table>
<p>For more information, see the <a href="https://ukcloud.com/pricing-guide">UKCloud Pricing Guide</a>.</p>
<div class="TIP">
<h5>Tip</h5>
<ul>
<li><p>Given the flexibility of VMs, and the ability to change the number of vCPUs and amount of memory and disk space on the fly, it's often better to start small as you're not tied by the constraints of a physical server. Remember too, that more vCPUs or RAM won't necessarily make a server faster, and could cost a lot more. You need to understand how well your application can make use of multi-threading.</p>
</li>
<li><p>For Windows, select at least two vCPUs if you think you'll need two or more in the future, as the multi-processor HAL will be loaded as part of the OS build.</p>
</li>
</ul>
</div>
<p><img src="images/vmw-vm-dlg-new-vm-scratch-vcd10.3-compute.png" alt="New VM dialog box - Compute"></p>
</li>
<li><p>In the <em>Storage</em> section, set the <strong>Storage Policy</strong> and <strong>Size</strong> of storage for the VM. You can also add more disks if required.</p>
<div class="TIP">
<h5>Tip</h5>
<p>When setting the storage size, be sure to select the appropriate units (<strong>MB</strong>, <strong>GB</strong> or <strong>TB</strong>).</p>
</div>
<p><img src="images/vmw-vm-dlg-new-vm-scratch-vcd10.3-storage.png" alt="New VM dialog box - Storage"></p>
</li>
<li><p>In the <em>Networking</em> section, click <strong>Customize</strong> to configure network settings, if necessary. You can set the <strong>IP Mode</strong> to determine how IP addresses are assigned:</p>
<ul>
<li><p><strong>DHCP</strong> Cloud Director interacts with the OS via VMware Tools to use DHCP rather than static IPs. You'll need to define a DHCP server on your edge gateway. Check with UKCloud or your organisation administrator that this is set up before you use it.</p>
</li>
<li><p><strong>IP Pool</strong> is the usual method, which injects an IP address into the VM via VMware Tools from a list of available IP addresses. The address may vary with each boot, but there is a check box to keep IP address assignments elsewhere within the UI once the VMs are
created.</p>
</li>
<li><p><strong>Manual IP</strong> is similar to IP Pool, but you need to enter a valid <strong>IP Address</strong> from the pool, which the VM will then keep.</p>
</li>
</ul>
<div class="TIP">
<h5>Tip</h5>
<p>You can connect the VM to multiple networks, by clicking <strong>Add</strong>.</p>
</div>
<p><img src="images/vmw-vm-dlg-new-vm-scratch-vcd10.3-network.png" alt="New VM dialog box - Networking"></p>
<div class="NOTE">
<h5>Note</h5>
<p>We recommend using the VMXNET3 network adapter where possible. The VMXNET virtual network adapter has no physical counterpart and is optimised for performance in a VM. Because operating system vendors don't provide built-in drivers for this card you must install VMware Tools to have a driver for the VMXNET network adapter available.</p>
<p>If you want a more comprehensive guide on network adapter types, see the VMware documentation for <a href="https://docs.vmware.com/en/VMware-vSphere/7.0/com.vmware.vsphere.vm_admin.doc/GUID-AF9E24A8-2CFA-447B-AC83-35D563119667.html">Network Adapter Basics</a>.</p>
</div>
</li>
<li><p>When you're done, click <strong>OK</strong>.</p>
</li>
<li><p>Back in the <em>Add VMs</em> dialog box, you can add more VMs or click <strong>Add</strong> when you're done.</p>
<p>The VM will be deployed without any operating system.</p>
</li>
</ol>
<h2 id="installing-an-operating-system-into-the-vm">Installing an operating system into the VM</h2>
<p>When you create a VM from scratch, it's initially deployed without any operating system. So, after you've created it, you need to install the appropriate operating system.</p>
<ol>
<li><p>In the card for the vApp that contains the new VM, click <strong>Details</strong>.</p>
<p><img src="images/vmw-vapp-mnu-details-vcd10.3.png" alt="VM Details menu option"></p>
</li>
<li><p>From the vApp navigation panel, select <strong>Virtual Machines</strong>.</p>
<p><img src="images/vmw-vapp-opt-vms.png" alt="vApp options - Virtual Machines"></p>
</li>
<li><p>From the VM menu (three dots) select <strong>Power</strong> &gt; <strong>Power On</strong>.</p>
<p><img src="images/vmw-vm-mnu-power-on-vcd10.3.png" alt="VM menu Power On option"></p>
</li>
<li><p>Once the VM has powered on, click the <strong>VM Console</strong> option.</p>
<p><img src="images/vmw-vm-opt-vm-console-vcd10.3.png" alt="VM Console option"></p>
<div class="TIP">
<h5>Tip</h5>
<p>For a standalone VM, in the left navigation panel, under <em>Compute</em>, select <strong>Virtual Machines</strong> to view a list of all VMs within the VDC. Then, in the card for your new VM, click <strong>VM Console</strong>.</p>
<p><img src="images/vmw-vm-alone-opt-vm-console-vcd10.3.png" alt="VM Console option for standalone VM"></p>
</div>
</li>
<li><p>As with a physical server, no virtual CD or DVD is available at first boot, so the server will attempt to PXE boot.</p>
<p><img src="images/vmw-vcd-vm-console-bare-metal.png" alt="VM console"></p>
</li>
<li><p>In the main Cloud Director interface (not the console), from the VM menu select <strong>Media</strong> &gt; <strong>Insert Media</strong>.</p>
<p><img src="images/vmw-vm-mnu-insert-media-vcd10.3.png" alt="Insert Media menu option"></p>
</li>
<li><p>In the <em>Insert CD</em> dialog box, select the ISO image you want to mount from a catalog, then click <strong>Insert</strong>.</p>
</li>
<li><p>In VM menu, select <strong>Power</strong> &gt; <strong>Reset</strong> to reset the VM so that it picks up the virtual CD/DVD.</p>
<p><img src="images/vmw-vm-mnu-reset-vcd10.3.png" alt="Reset VM menu option"></p>
</li>
<li><p>After a short while the VM will start the boot process and pick up the CD/DVD. Resize the VM console if necessary or go to full screen.</p>
<p><img src="images/vmw-vm-console-install-os.png" alt="Installing CentOS Linux 7"></p>
</li>
<li><p>Carry out the operating system install as normal.</p>
<p>When you've finished, remember to install VMware Tools (for more information, see <a href="vmw-ref-vmware-tools-installation.html"><em>VMware Tools installation</em></a>).</p>
</li>
</ol>
<h2 id="next-steps">Next steps</h2>
<p>After you initially create your VM, you may want to edit some of the properties to finish setting it up. For more information, see <a href="vmw-how-update-vm-settings.html"><em>How to view and update virtual machine settings</em></a>.</p>
<p>If you haven't already, you may want to create networks to enable your VMs to communicate with each other and the outside world. For more information, see <a href="vmw-how-create-routed-network.html"><em>How to create a routed VDC network</em></a> and <a href="vmw-how-create-isolated-network.html"><em>How to create an isolated VDC network</em></a>.</p>
<p>You may also want to create rules to enable traffic into and out of your VMs. For more information, see <a href="vmw-how-create-firewall-rules.html"><em>How to create firewall rules</em></a> and <a href="vmw-how-create-nat-rules.html"><em>How to create NAT rules</em></a>.</p>
<h2 id="feedback">Feedback</h2>
<p>If you find a problem with this article, click <strong>Improve this Doc</strong> to make the change yourself or raise an <a href="https://github.com/UKCloud/documentation/issues">issue</a> in GitHub. If you have an idea for how we could improve any of our services, send an email to <a href="mailto:feedback@ukcloud.com">feedback@ukcloud.com</a>.</p>


                  <div class="row">
                  </div>
                </article>
              </div>
              
              <div class="hidden-sm col-md-2" role="complementary">
                <div class="sideaffix">
                  <div class="toggle-mode">
                      <div class="icon">
                        <i aria-hidden="true">☀</i>
                      </div>
                      <label class="switch">
                        <input type="checkbox" id="switch-style">
                        <span class="slider round"></span>
                      </label>
                      <div class="icon">
                        <i aria-hidden="true">☾</i>
                      </div>
                      <script type="text/javascript" src="../../styles/toggle-theme.js"></script>
                  </div>
                  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                  <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
                  </nav>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right text-right">
              Generated by <strong>DocFX</strong><br>
              <a href="#top">Back to top</a>
            </span>
            <span>&copy <a href="https://ukcloud.com">UKCloud Ltd</a>, 2022. All Rights Reserved.<br><a href="https://ukcloud.com/legal">Privacy Policy. </a><a href="https://ukcloud.com/terms-and-conditions">Terms of Use. </a><a href="https://docs.ukcloud.com/articles/other/other-how-contribute-knowledge.html">Contribute. </a></span>
          </div>
        </div>
      </footer>
      
      <div id="cookie-cta" style="display: none;" aria-hidden="true">
        <div class="cookie-cta-inner container">
          <div class="cookie-cta-text">
            <p>
              The <strong>UKCloud Knowledge Centre</strong> uses cookies to ensure that we give you the best experience on our website. If you continue we assume that you consent to receive all cookies on this website.
            </p>
          </div>
      
          <div class="cookie-cta-action">
            <button class="cookie-cta-close button button--small">Accept</button>
          </div>
        </div>
      </div>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    <script type="text/javascript" src="../../styles/highlight.js"></script>
    <!-- Enable Terraform syntax highlighting -->
    <script type="text/javascript" src="../../styles/terraform.js"></script>
    <script type="text/javascript">
      hljs.registerLanguage('terraform', window.hljsDefineTerraform);
      hljs.initHighlightingOnLoad();
    </script>
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-57433193-6"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'UA-57433193-6');
    </script>
  </body>
</html>
