<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Understanding Sovereign Azure BETA | UKCloud Ltd | UKCloud Knowledge Centre </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Understanding Sovereign Azure BETA | UKCloud Ltd | UKCloud Knowledge Centre ">
    <meta name="generator" content="docfx 2.36.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <meta property="docfx:navrel" content="">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="understanding-sovereign-azure-beta">Understanding Sovereign Azure BETA</h1>

<h2 id="introduction">Introduction</h2>
<p>UKCloud's Sovereign Azure cloud provides you with new options to harness Microsoft Azure alongside other cloud platforms, including Oracle, VMware and OpenStack. This gives you the flexibility to accommodate diverse workloads within a low latency, accredited platform with native connectivity to non-cloud workloads in Crown Hosting and the networks that are vital to the public sector: from PSN Protected to N3/HSCN and RLI.</p>
<p>This article provides an introduction to the Sovereign Azure cloud and helps you get up and running with the demonstrator units that we're providing as a BETA environment.</p>
<h2 id="about-sovereign-azure">About Sovereign Azure</h2>
<p>At UKCloud, we understand that there is no &quot;one cloud fits all&quot; solution. There are usually many factors to consider when looking to move your applications to the cloud, including existing technology investment and skills. Additionally, while some applications can easily move to the public cloud, there are others that for various reasons (latency, connectivity, security, regulation) must run on-premises.</p>
<p>Microsoft Azure Stack is an extension of Azure that provides on-premises Infrastructure-as-a-Service (IaaS) and Platform-as-a-Service (PaaS) that enables you to leverage the benefits of cloud in an on-premises environment. The Sovereign Azure cloud brings the advantages of the Microsoft Cloud platform to our assured UK-sovereign platform, helping you realise the benefits that a true hybrid cloud environment has to offer, while balancing the right amount of flexibility and control.</p>
<p>With Sovereign Azure, you can:</p>
<ul>
<li>Leverage existing Azure investment, knowledge and skills</li>
<li>Use Azure Stack alongside other technologies, for example, VMware, OpenStack and Oracle</li>
<li>Connect to government community networks, including PSN, N3/HSCN, Janet and RLI</li>
<li>Meet specific compliance directives, such as data sovereignty or security</li>
</ul>
<p>The two main delivery models provided by our Sovereign Azure cloud are:</p>
<ul>
<li>A multi-tenant IaaS and PaaS platform available in both UKCloud security domains (Assured OFFICIAL and Elevated OFFICIAL), connected to government community networks with UKCloud's award-winning support</li>
<li>Private cloud deployment of Sovereign Azure dedicated to a single customer</li>
</ul>
<h2 id="supported-features">Supported features</h2>
<p>Our Sovereign Azure cloud is currently offered as a BETA opportunity for our customers to familiarise themselves with our Azure service. This is intended as a first look—with the service evolving throughout the BETA to represent the live production service. Subsequently, some features may be added, altered or withdrawn throughout the BETA as our understanding evolves.</p>
<p>At initial launch, Sovereign Azure BETA supports the following Azure Stack IaaS features:</p>
<h3 id="compute">Compute</h3>
<p>Virtual machines (VMs) provide the basic compute building blocks in Azure Stack. The table below lists the VM sizes available.</p>
<table>
<thead>
<tr>
<th>Size</th>
<th>vCPU</th>
<th>Memory (GiB)</th>
<th>Temp storage (GiB)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Standard_D1_v2</td>
<td>1</td>
<td>3.5</td>
<td>50</td>
</tr>
<tr>
<td>Standard_D2_v2</td>
<td>2</td>
<td>7</td>
<td>100</td>
</tr>
<tr>
<td>Standard_D3_v2</td>
<td>4</td>
<td>14</td>
<td>200</td>
</tr>
<tr>
<td>Standard_D4_v2</td>
<td>8</td>
<td>28</td>
<td>400</td>
</tr>
<tr>
<td>Standard_A0</td>
<td>1</td>
<td>0.768</td>
<td>20</td>
</tr>
<tr>
<td>Standard_A1</td>
<td>1</td>
<td>1.75</td>
<td>70</td>
</tr>
<tr>
<td>Standard_A2</td>
<td>2</td>
<td>3.5</td>
<td>135</td>
</tr>
<tr>
<td>Standard_A3</td>
<td>4</td>
<td>7</td>
<td>285</td>
</tr>
<tr>
<td>Standard_A4</td>
<td>8</td>
<td>14</td>
<td>605</td>
</tr>
<tr>
<td>Standard_A5</td>
<td>2</td>
<td>14</td>
<td>135</td>
</tr>
<tr>
<td>Standard_A6</td>
<td>4</td>
<td>28</td>
<td>285</td>
</tr>
<tr>
<td>A0\Basic_A0</td>
<td>1</td>
<td>768 MB</td>
<td>20 GB</td>
</tr>
<tr>
<td>A1\Basic_A1</td>
<td>1</td>
<td>1.74 GB</td>
<td>40 GB</td>
</tr>
<tr>
<td>A2\Basic_A2</td>
<td>2</td>
<td>3.5 GB</td>
<td>60 GB</td>
</tr>
<tr>
<td>A3\Basic_A3</td>
<td>4</td>
<td>7 GB</td>
<td>120 GB</td>
</tr>
<tr>
<td>A4\Basic_A4</td>
<td>8</td>
<td>14 GB</td>
<td>240 GB</td>
</tr>
<tr>
<td>Standard_DS11_v2</td>
<td>2</td>
<td>14</td>
<td>28</td>
</tr>
<tr>
<td>Standard_DS12_v2</td>
<td>4</td>
<td>28</td>
<td>56</td>
</tr>
</tbody>
</table>
<p><strong><em>need to confirm list above is correct and up to date</em></strong></p>
<p>You can deploy VMs using the Azure Stack portal and other tooling. VMs have the following support:</p>
<ul>
<li><p>API</p>
</li>
<li><p>Azure Stack Marketplace—provides access to pre-created images which help speed up application delivery</p>
</li>
<li><p>Azure Resource Manager—enables you to write templates to deploy, update and delete Azure Stack resources in a single coordinated operation</p>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-vm-considerations">https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-vm-considerations</a></p>
</li>
</ul>
<h3 id="network">Network</h3>
<ul>
<li><p>Virtual networks—Configure virtual private clouds, create and manage your private address space within Azure; you can configure this via the UI, API and other tooling</p>
</li>
<li><p>Load balancers (IPv4 only)—Deploy basic load balancers</p>
</li>
<li><p>VPN gateway—Create site-to-site VPNs to remote infrastructure with the Azure Stack VPN gateway</p>
</li>
<li><p>Routing—Configure basic custom-defined routing on virtual networks; Vnet to Vnet peering is not yet supported</p>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-network-differences">https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-network-differences</a></p>
</li>
</ul>
<h3 id="storage">Storage</h3>
<table>
<thead>
<tr>
<th>Type of storage</th>
<th>Description</th>
<th>Notes vs Azure</th>
</tr>
</thead>
<tbody>
<tr>
<td>Azure Blob Storage (block)</td>
<td>Object storage; good for storing documents, videos, images and so on</td>
<td>Size of disk storage differs significantly, as well as naming standards like name length</td>
</tr>
<tr>
<td>Azure Blob Storage (page)</td>
<td>Used to support VM disks; good for randomly accessed large files</td>
<td></td>
</tr>
<tr>
<td>Azure Blob Storage (append)</td>
<td>Used for log files</td>
<td></td>
</tr>
<tr>
<td>Azure Queue Storage</td>
<td>Message queue as a service to provide asynchronous scale out micro-services, among other things</td>
<td></td>
</tr>
<tr>
<td>Azure Table Storage</td>
<td>NoSQL database service; good for highly scalable, eventually consistent database support</td>
<td>Max sizes differ</td>
</tr>
</tbody>
</table>
<h3 id="advanced-features">Advanced features</h3>
<ul>
<li><p>Key Vault—Azure Stack provides crytographic secret storage for applications and services. These services can be consumed by both the portal and API.</p>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-kv-intro">https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-kv-intro</a></p>
</li>
</ul>
<h2 id="design-considerations">Design considerations</h2>
<p>When designing your Sovereign Azure applications using our BETA service, you should consider the following:</p>
<h3 id="compute-1">Compute</h3>
<ul>
<li>Resource restrictions—UKCloud will provide BETA customers with an amount of useable compute resource (which will be advised upon onboarding). Customers will be able to use this resource as they wish—but will not be able to exceed this resource. Consider the VM sizes required to prove the functionality required.</li>
<li>Azure Stack supports a subset of Azure VM extensions; Sovereign Azure currently supports the following:
<ul>
<li>BGInfo v2.1</li>
<li>CustomScriptExtension v1.8</li>
<li>JsonADDomainExtension v1.3</li>
<li>VMAccessAgent v2</li>
<li>CustomScriptForLinux v1.5.2.0</li>
<li>OSPatchingForLinux v2.3.0.1</li>
<li>VMAccessForLinux v1.4.0.0</li>
<li>DockerExtension v1.1.1606092330</li>
<li>DSC v2.19.0.0</li>
<li>IaaSAntimalware v1.4.0.0</li>
<li>IaaSDiagnostics v1.10.1.1</li>
<li>MicrosoftMonitoringAgent v1.0.10900.0</li>
</ul>
</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>For an up-to-date list of the supported extensions, perform the following steps:</p>
</div>
<p>First, ensure that you've installed the relevant Azure PowerShell tools from the following links:</p>
<p><a href="https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-powershell-install">https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-powershell-install</a>
<a href="https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-powershell-download">https://docs.microsoft.com/en-us/azure/azure-stack/user/azure-stack-powershell-download</a></p>
<p>Then run the following commands:</p>
<pre><code class="lang-powershell">Add-AzureRMEnvironment -Name &quot;AzureStackAdmin&quot; -ArmEndpoint &quot;https://management.frn00006.azure.ukcloud.com&quot; Login-AzureRmAccount -EnvironmentName &quot;AzureStackAdmin&quot; Get-AzureRmVmImagePublisher -Location frn00006 | ` Get-AzureRmVMExtensionImageType | ` Get-AzureRmVMExtensionImage | ` Select Type, Version | ` Format-Table -Property * -AutoSize
</code></pre>
<ul>
<li>Use load balancers to make the best use of IP address quota.</li>
<li>Azure Stack API may be a couple of releases behind Azure.</li>
<li>Single region and single state set (affects availability).</li>
<li>VM sets don't support auto-scale, so consider how to handle load.</li>
<li>Check Azure Resource Manager (ARM) templates to see if they're compatible with Azure Stack.</li>
</ul>
<h3 id="storage-1">Storage</h3>
<p>Azure Stack storage is all served from the same pool of disks and doesn't provide &quot;limitless&quot; storage, so you should consider the following:</p>
<ul>
<li>Use blob storage (object storage) to support the application; not for multiple petabytes of data storage</li>
<li>Put large volume data on UKCloud's Cloud Storage</li>
<li>Clean up backups to conserve storage</li>
<li>Consider use of temporary storage</li>
<li>There is a difference in maximum blob storage between Azure and Azure Stack</li>
<li>No guarantees around IOPs</li>
<li>Use blob storage for queues to help deliver scalable micro-services</li>
</ul>
<h2 id="accessing-sovereign-azure-demonstrator-units">Accessing Sovereign Azure demonstrator units</h2>
<p>You can access Sovereign Azure from the following location:</p>
<p><a href="https://portal.frn00006.azure.ukcloud.com/">https://portal.frn00006.azure.ukcloud.com/</a></p>
<h2 id="further-information">Further information</h2>
<p>For more information about Azure Stack, see the following Microsoft resources:</p>
<p><a href="https://azure.microsoft.com/en-gb/get-started/">Get Started with Azure</a>
<a href="https://docs.microsoft.com/en-us/azure/azure-stack/">Azure Stack Operator Documentation</a></p>
<p>For more information about our Sovereign Azure service, see:</p>
<p><a href="https://portal.ukcloud.com/support/knowledge_centre/de19b410-f844-419b-afd0-bb3dbab0a217">Sovereign Azure BETA FAQs</a></p>
<h2 id="feedback">Feedback</h2>
<p>If you have any comments on this article, or any other aspect of your UKCloud experience, send them to feedback@ukcloud.com.</p>
<p>(c) UKCloud Ltd, 2018. All Rights Reserved.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/UKCloud/documentation/blob/master/articles/azure/azs-ref-overview.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>&copy <a href="http://ukcloud.com">UKCloud Ltd</a>, 2018. All Rights Reserved.<br>Generated by <strong>DocFX</strong></span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    
      ga('create', 'UA-99241001-1', 'auto');
      ga('send', 'pageview');
    
    </script>  </body>
</html>
